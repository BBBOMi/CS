# Server

## 1. JSP(Java Server Page)

![img](https://upload.wikimedia.org/wikipedia/commons/thumb/7/72/JSP_Model_2.svg/220px-JSP_Model_2.svg.png)

* 웹 환경에서 작동하는 웹 애플리케이션
* Java를 이용한 **Server Side Script** 언어
* HTML내에 Java 코드를 삽입하여 웹 서버에서 동적으로 웹 페이지를 생성하여 웹 브라우저에게 돌려주는 언어이다.
* <% ... %> 스크립트 영역이 있다.
* 실행시 javax.servlet.http.HttpServlet 클래스를 상속받은 자바 소스코드로 변환된 다음 컴파일되어 실행된다.
* Servlet Container : JSP 파일을 Servlet 클래스로 변환하고 실행시켜 준다. (Ex **Tomcat**)
* 하나의 JSP 페이지가 하나의 자바 클래스이기 때문에 모든 자바 라이브러리를 끌어다 쓸 수 있다.
* Servlet Container도 Java 프로그램이며, JVM 위에서 실행된다.

  ### 동작 구조

  1. 클라이언트에서 서비스가 요청되면
  2. JSP의 실행을 요구 하고
  3. JSP는 웹 애플리케이션 서버의 서블릿 컨테이너에서 서블릿 원시코드로 변환 된다.
  4. 서블릿 원시코드는 바로 컴파일된 후 실행되어 결과를 HTML 형태로 클라이언트에 돌려 준다.

## 2. Java Servlet

![img](https://upload.wikimedia.org/wikipedia/commons/thumb/4/40/JSPLife.png/400px-JSPLife.png)

* Java를 사용하여 웹 페이지를 동적으로 생성하는 서버측 프로그램, 혹은 그 사양을 말한다. =  **Servlet(서블릿)**
* 웹 서버의 성능을 향상하기 위해 사용되는 자바 클래스의 일종이다.
* JSP와 비슷한 점이 있지만, JSP가 HTML에 Java 코드를 포함하고 있는 반면, 서블릿은 Java코드를 HTML 코드를 포함하고 있다.
* 웹 시스템이 구현되고 있다.
* 비슷한 서비스 : PHP, ASP
* 외부 요청마다 프로세스보다 가벼운 스레드로써 응답하기때문에 CGI 보다 가볍다.
* Java로 구현되기 때문에 다양한 플랫폼에서 동작한다.

## 3. Web Container(Servlet Container)

* 웹 서버의 컴포넌트 중 하나로 Java Servlet과 상호작용한다.
* 웹 컨테이너는 Servlet의 생명주기를 관리하고, URL과 특정 Servlet을 맵핑하여 URL 요청이 올바른 접근 권한을 갖도록 보장한다.
* 웹 컨테이너는 서블릿, JSP 파일, 서버 사이드 코드가 포함된 다른 타입의 파일들에 대한 요청을 다룬다.
* 웹 컨테이너는 서블릿 객체를 생성하고, 서블릿을 로드와 언로드하며, 요청과 응답 객체를 생성하고 관리하고 다른 서블릿 관리 작업을 수행한다.
* 웹 컨포넌트 자바 EE 아키텍처 제약을 구현하고, 보안, 병행성, 생명주기 관리, 트랜잭션, 배포 등 다른 서비스를 포함하는 웹 컴포넌트의 실행 환경을 명세한다.
* 아파치 톰캣은 아피치 소프트웨어 라이센스 하에 사용할 수 있는 오픈 소스 웹 컨테이너다.

## 4. Web Server

1. 웹 서버 : 웹 브라우저와 같은 클라이언트로부터 HTTP 요청을 받아들이고, HTML 문서와 같은 웹 페이지를 반환하는 프로그램
2. 웹 서버(하드웨어) : 위의 프로그램을 실행하는 PC

* 웹 서버는 HTTP를 통해 웹 브라우저에서 요청하는 HTML 문서나 CSS, 이미지 파일 등을 전송해주는 서비스 프로그램
* ​

## 5. Web Application Server

## 6. Apach Tomcat

* 아파치 소프트웨어 재단에서 개발한 서블릿 컨테이너/웹 컨테이너만 있는 웹 애플리케이션 서버

* 웹 서버와 연동하여 실행할 수 있는 자바 환경을 제공하여 JSP와 자바 서블릿이 실행할 수 있는 환경을 제공한다.

* 관리툴을 통해 설정을 변경할 수 있지만, XML 파일을 편집하여 설정할 수도 잇다.

* HTTP 서버도 자체 내장하기도 한다.

* 오픈소스 소프웨어

* 서블릿이나 JSP를 실행하기 위한 서블릿 컨테이너를 제공하며, 상용 웹 애플리케이션 서버에서도 서블릿 컨테이너로 사용하는 경우가 많다.

* 아파치 웹 서버와 연동모듈을 사용하여 연동하여 안정적인 시스템을 구축한다.

  ### 단점

  * 톰캣은 웹 서버로 사용되기보다는 WAS로 사용된다.
  * 톰캣은 html 같은 정적 페이지를 로딩하는데 웹 서버보다 수행 속도가 느리다. 
  * 이를 해결하기 위해서 아파치와 연동한다. 아파치는 html 같은 정적인 페이지를 로드하는 데에 사용되는 웹 서버이다.

  ### 원리

  * 아파치가 실행되면 아파치는 html 파일은 자신이 수행하고 jsp 파일은 톰캣으로 넘겨서 톰캣이 수행하게 만든다. 
  * 톰캣 특성상 java 언어만 해석이 가능하기 때문에 톰캣에 자체 내장되어 있는 http 서버를 사용하더라도 php 언어로 작성된 서버 페이지는 실행이 불가능하다. 
  * 따라서 php와 jsp 모두를 사용하고 싶다면 아파치에서 php를 호출하고 톰캣에서 jsp를 호출 하도록 구성하여 상호 보완적 동작을 수행하도록 구성할 수도 있다.

## 7. Apache HTTP 서버

* 아파치 소프트웨어 재단에서 관리하는 HTTP 웹 서버이다.
* 톰캣 등의 웹 애플리케이션 서버와 같이 사용할 수 있다.
* Open SSL을 설치하여 보안을 강화할 수 있다.(http -> https)

## 8. Nginx

* 웹 서버 소프트웨어로 가벼운 성능을 목표로 한다.

* 웹 서버, 리버스 프록시 및 메일 프록시 기능을 가진다.

* 엔진 엑스는 요청에 응답하기 위해 비동기 이벤트 기반 구조를 가진다. 이러한 구조는 서버에 많은 부하가 생길 경우 성능을 예측하기 쉽게 해준다.

* 아피치 HTTP 서버의 스레드/프로세스 기반 구조를 가지는 것과 대조적이다.

  ### HTTP 프록시와 웹 서버 기능

  * 정적 파일과 인덱스 파일 표현, 자동 인덱싱 기능.
  * 캐싱을 통한 리버스 프록시
  * 로드 밸런싱
  * 고장 진단
  * SSL 지원
  * 캐싱을 통한 FastCGI 지원
  * Name-, IP-기반 가상서버
  * FLV 스트리밍
  * MP4 스트리밍 모듈을 이용한 MP4 스트리밍
  * 웹페이지 접근 인증
  * gzip 압축
  * 10000개의 동시 접속을 처리할 수 있는 능력
  * URL 다시쓰기 (URL rewriting)
  * 맞춤 로깅
  * 서버 사이드 기능 포함
  * WebDAV

  ### 메일 프록시 기능

  * SMTP, POP3, IMAP 프록시
  * STARTTLS 지원
  * SSL 지원

## 9. HTTP

## 10. 프록시



